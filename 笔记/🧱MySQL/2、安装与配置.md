> 使用一个工具的前提是在我们的计算机中先要有这个工具的执行程序，通过这篇文章，我们将学会如何安装MySQL数据库，本次安装的形式是使用压缩包的安装形式。😵

![](https://photohosting.oss-cn-hangzhou.aliyuncs.com/notionCover/f5480e1465fa482f9f7b51217be103c1.png)

## 一、下载和解压 MySQL 压缩包

1. **下载 MySQL 压缩包**：
   
   - 访问 [MySQL 官方下载页面](https://dev.mysql.com/downloads/mysql/)，选择适合你系统的压缩包（如 `.zip` 或 `.tar.gz`）。
   - 下载完成后，将压缩包保存到一个方便的位置。
   
2. **解压缩 MySQL 压缩包**：
   - 在 Windows 上：
     - 使用解压工具（如 WinRAR 或 7-Zip）解压缩文件，例如解压到 `C:\mysql`。
   - 在 Linux 上：
     ```bash
     tar -xvf mysql-<version>-linux-glibc2.12-x86_64.tar.gz -C /usr/local
     cd /usr/local
     mv mysql-<version>-linux-glibc2.12-x86_64 mysql
     ```

## 二、配置 `my.ini` 文件（Windows）或 `my.cnf` 文件（Linux）

1. **创建配置文件**：
   
   - 在 Windows 上创建 `my.ini`：
     - 在 MySQL 安装目录下（例如 `C:\mysql`）创建一个新的文件，命名为 `my.ini`。
     - 使用文本编辑器（如记事本或 Notepad++）打开 `my.ini` 文件。
   - 在 Linux 上创建 `my.cnf`：
     - 在 `/etc` 目录下创建文件 `/etc/my.cnf` 或者在 MySQL 安装目录下创建 `my.cnf`。
     - 使用文本编辑器（如 vim 或 nano）打开 `my.cnf` 文件。
   
2. **配置文件示例**：
   下面是一个基本的配置文件示例，你可以根据需要进一步调整这些配置选项。
   ```ini
   # my.ini 或 my.cnf 示例
   
   [client]
   port=3306
   socket=/tmp/mysql.sock
   
   [mysqld]
   # 基本设置
   user=mysql
   port=3306
   basedir=/usr/local/mysql
   datadir=/usr/local/mysql/data
   socket=/tmp/mysql.sock
   pid-file=/usr/local/mysql/mysql.pid
   
   # 安全设置
   skip-external-locking
   key_buffer_size=256M
   max_allowed_packet=64M
   table_open_cache=256
   sort_buffer_size=1M
   read_buffer_size=1M
   read_rnd_buffer_size=4M
   myisam_sort_buffer_size=64M
   
   # 日志设置
   log_error=/usr/local/mysql/mysql-error.log
   slow_query_log=1
   slow_query_log_file=/usr/local/mysql/mysql-slow.log
   long_query_time=2
   
   # 网络设置
   max_connections=200
   thread_cache_size=8
   query_cache_size=16M
   
   # InnoDB 设置
   innodb_buffer_pool_size=1G
   innodb_log_file_size=256M
   innodb_log_buffer_size=8M
   innodb_flush_log_at_trx_commit=1
   innodb_lock_wait_timeout=50
   
   # 其他设置
   sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
   
   ## 配置文件参数解释（以下内容不需要写在配置文件中）
   basedir：MySQL 安装的基础目录。
   datadir：MySQL 数据文件存储的目录。
   socket：MySQL 使用的套接字文件。
   pid-file：MySQL 进程 ID 文件。
   log_error：错误日志文件位置。
   slow_query_log 和 slow_query_log_file：慢查询日志及其文件位置。
   innodb_buffer_pool_size：InnoDB 缓冲池大小，通常是内存的 70%-80%。
   innodb_log_file_size：每个重做日志文件的大小。
   innodb_log_buffer_size：重做日志缓冲区大小。
   innodb_flush_log_at_trx_commit：事务提交时的刷新策略。
   ```

## 三、初始化 MySQL 数据目录

1. **在 Windows 上**：
   - 打开命令提示符，导航到 MySQL 的 `bin` 目录，例如：
     ```cmd
     cd C:\mysql\bin
     ```
   - 初始化数据目录：
     ```cmd
     mysqld --initialize --console
     ```

2. **在 Linux 上**：
   ```bash
   cd /usr/local/mysql/bin
   sudo ./mysqld --initialize --user=mysql
   ```

## 四、启动 MySQL 服务

1. **在 Windows 上**：
   - 确保 `my.ini` 文件位于 MySQL 安装目录下，然后通过以下命令启动 MySQL 服务：
     ```cmd
     net start mysql
     ```

2. **在 Linux 上**：
   - 确保 `my.cnf` 文件位于 `/etc` 目录或 MySQL 安装目录下，然后通过以下命令启动 MySQL 服务：
     ```bash
     sudo /usr/local/mysql/bin/mysqld_safe --user=mysql &
     ```
   - 或者使用系统服务管理工具（如 systemd）：
     ```bash
     sudo systemctl start mysqld
     ```

## 五、验证配置

通过连接到 MySQL 并检查运行状态来验证配置是否正确：
```bash
mysql -u root -p
SHOW VARIABLES;
```

如果你有特定的性能优化或安全需求，请参考 [MySQL 官方文档](https://dev.mysql.com/doc/) 获取更详细的信息。

## 六、补充内容

修改 MySQL 登录密码可以通过以下几种方法完成。在这里，我们将介绍使用命令行工具 `mysql` 和 MySQL 账户管理命令来更改密码的方法。

### 方法一：使用 `ALTER USER` 语句

1. **登录 MySQL**：
   打开终端或命令提示符，输入以下命令以 `root` 用户身份登录 MySQL（你需要知道当前密码）：
   ```bash
   mysql -u root -p
   ```

2. **更改密码**：
   登录成功后，执行以下 SQL 语句来更改密码。假设你要将 `root` 用户的密码改为 `newpassword`：
   ```sql
   ALTER USER 'root'@'localhost' IDENTIFIED BY 'newpassword';
   ```

3. **刷新权限**：
   更改密码后，刷新权限使更改生效：
   ```sql
   FLUSH PRIVILEGES;
   ```

### 方法二：使用 `SET PASSWORD` 语句

1. **登录 MySQL**：
   同样，首先登录 MySQL：
   ```bash
   mysql -u root -p
   ```

2. **设置新密码**：
   使用 `SET PASSWORD` 语句更改密码：
   ```sql
   SET PASSWORD FOR 'root'@'localhost' = 'newpassword';
   ```

3. **刷新权限**：
   ```sql
   FLUSH PRIVILEGES;
   ```

### 方法三：MySQL 5.7+ 及之后版本的 `mysqladmin` 命令行工具

1. **打开终端/命令提示符**：

2. **使用 `mysqladmin` 修改密码**：
   假设你要将 `root` 用户的密码改为 `newpassword`，并且当前密码为 `currentpassword`，可以使用以下命令：
   ```bash
   mysqladmin -u root -p'currentpassword' password 'newpassword'
   ```

### 方法四：使用 `UPDATE` 语句直接修改 `mysql.user` 表（不推荐）

这种方法直接操作系统表，不推荐使用，但它仍然是一个选项：

1. **登录 MySQL**：
   ```bash
   mysql -u root -p
   ```

2. **更新 `mysql.user` 表**：
   ```sql
   USE mysql;
   UPDATE user SET authentication_string = PASSWORD('newpassword') WHERE User = 'root' AND Host = 'localhost';
   ```

3. **刷新权限**：
   ```sql
   FLUSH PRIVILEGES;
   ```

### 方法五：忘记密码情况下的重置方法

如果你忘记了 `root` 密码，可以通过以下步骤重置密码：

1. **停止 MySQL 服务**：
   - 在 Windows 上：
     ```cmd
     net stop mysql
     ```
   - 在 Linux 上：
     ```bash
     sudo systemctl stop mysqld
     ```

2. **启动 MySQL 到安全模式**：
   - 在 Windows 上：
     ```cmd
     mysqld --skip-grant-tables
     ```
   - 在 Linux 上：
     ```bash
     sudo mysqld_safe --skip-grant-tables &
     ```

3. **登录 MySQL**：
   此时你无需密码即可登录：
   ```bash
   mysql -u root
   ```

4. **更改密码**：
   更改 `root` 用户的密码：
   ```sql
   USE mysql;
   UPDATE user SET authentication_string = PASSWORD('newpassword') WHERE User = 'root' AND Host = 'localhost';
   FLUSH PRIVILEGES;
   ```

5. **重启 MySQL 服务**：
   - 在 Windows 上：
     ```cmd
     net stop mysql
     net start mysql
     ```
   - 在 Linux 上：
     ```bash
     sudo systemctl restart mysqld
     ```

如果有任何疑问或问题，请参考 [MySQL 官方文档](https://dev.mysql.com/doc/) 以获取更多信息。



