> 了解一个工具，首先要用起来，而如何用起来，这就需要我们初步的了解这个工具内的一些基本操作了。那么接下来，就通过这一篇文章来了解MySQL中的增删改查等操作。😴

![](https://photohosting.oss-cn-hangzhou.aliyuncs.com/notionCover/ea827ae7465942008e7912211765ed75.png)

就让我们直接聚焦在 MySQL 的基本操作和用法上。以下是一些常见的 MySQL 操作，从创建数据库、表到基本的 CRUD（创建、读取、更新、删除）操作。

### 1. 登录 MySQL
使用 `mysql` 命令行客户端登录 MySQL：
```bash
mysql -u root -p
```
输入密码后进入 MySQL 命令行界面。

### 2. 创建数据库
创建一个名为 `mydatabase` 的数据库：
```sql
CREATE DATABASE mydatabase;
```

### 3. 切换到指定数据库
```sql
USE mydatabase;
```

### 4. 创建表
创建一个名为 `users` 的表：
```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 5. 插入数据
向 `users` 表插入数据：
```sql
INSERT INTO users (username, email) VALUES ('JohnDoe', 'john.doe@example.com');
INSERT INTO users (username, email) VALUES ('JaneSmith', 'jane.smith@example.com');
```

### 6. 查询数据
从 `users` 表中选择所有数据：
```sql
SELECT * FROM users;
```

### 7. 更新数据
更新 `users` 表中 `username` 为 `JohnDoe` 的记录，将其邮箱改为 `john.new@example.com`：
```sql
UPDATE users SET email = 'john.new@example.com' WHERE username = 'JohnDoe';
```

### 8. 删除数据
从 `users` 表中删除 `username` 为 `JaneSmith` 的记录：
```sql
DELETE FROM users WHERE username = 'JaneSmith';
```

### 9. 删除表
删除 `users` 表：
```sql
DROP TABLE users;
```

### 10. 删除数据库
删除 `mydatabase` 数据库：
```sql
DROP DATABASE mydatabase;
```

### 11. 用户管理

**创建新用户**：
```sql
CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';
```

**赋予权限**：
给 `newuser` 用户赋予对 `mydatabase` 所有表的所有权限：
```sql
GRANT ALL PRIVILEGES ON mydatabase.* TO 'newuser'@'localhost';
```

**刷新权限**：
使权限更改生效：
```sql
FLUSH PRIVILEGES;
```

### 12. 备份与恢复

**备份数据**：
使用 `mysqldump` 工具备份数据库：
```bash
mysqldump -u root -p mydatabase > mydatabase_backup.sql
```

**恢复数据**：
将备份文件恢复到数据库：
```bash
mysql -u root -p mydatabase < mydatabase_backup.sql
```

### 13. 索引

**创建索引**：
在 `users` 表的 `email` 列上创建索引：
```sql
CREATE INDEX idx_email ON users(email);
```

**删除索引**：
删除 `users` 表上的 `idx_email` 索引：
```sql
DROP INDEX idx_email ON users;
```

### 14. 视图

**创建视图**：
创建一个名为 `user_emails` 的视图：
```sql
CREATE VIEW user_emails AS SELECT username, email FROM users;
```

**查询视图**：
```sql
SELECT * FROM user_emails;
```

**删除视图**：
```sql
DROP VIEW user_emails;
```

### 15. 存储过程和函数

**创建存储过程**：
```sql
DELIMITER //
CREATE PROCEDURE GetUsers()
BEGIN
    SELECT * FROM users;
END //
DELIMITER ;
```

**调用存储过程**：
```sql
CALL GetUsers();
```

**创建函数**：
```sql
DELIMITER //
CREATE FUNCTION GetUserCount() RETURNS INT
BEGIN
    DECLARE count INT;
    SELECT COUNT(*) INTO count FROM users;
    RETURN count;
END //
DELIMITER ;
```

**调用函数**：
```sql
SELECT GetUserCount();
```

### 16. 触发器

**创建触发器**：
在 `users` 表上创建一个在插入时自动更新 `created_at` 字段的触发器：
```sql
DELIMITER //
CREATE TRIGGER before_insert_users
BEFORE INSERT ON users
FOR EACH ROW
BEGIN
    SET NEW.created_at = NOW();
END //
DELIMITER ;
```

**删除触发器**：
```sql
DROP TRIGGER before_insert_users;
```

### 17. 事务

**开始事务**：
```sql
START TRANSACTION;
```

**提交事务**：
```sql
COMMIT;
```

**回滚事务**：
```sql
ROLLBACK;
```

### 18. 查看所有数据库
```sql
SHOW DATABASES;
```

### 19. 查看指定数据库中的所有表
```sql
SHOW TABLES FROM mydatabase;
```

### 20. 查看表结构
查看 `users` 表的结构：
```sql
DESCRIBE users;
```

### 21. 查看表数据行数
统计 `users` 表的数据行数：
```sql
SELECT COUNT(*) FROM users;
```

### 22. 导出表数据为 CSV 文件
将 `users` 表的数据导出为 CSV 文件：
```sql
SELECT * INTO OUTFILE '/path/to/users.csv'
FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'
LINES TERMINATED BY '\n'
FROM users;
```

### 23. 导入 CSV 文件数据到表
将 CSV 文件数据导入到 `users` 表：
```sql
LOAD DATA INFILE '/path/to/users.csv' 
INTO TABLE users
FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'
LINES TERMINATED BY '\n';
```

### 24. 查看当前正在运行的查询
```sql
SHOW PROCESSLIST;
```

### 25. 查看服务器状态
```sql
SHOW STATUS;
```

### 26. 查看服务器变量
```sql
SHOW VARIABLES;
```

这些操作可以帮助你更好地管理和了解 MySQL 数据库的情况。